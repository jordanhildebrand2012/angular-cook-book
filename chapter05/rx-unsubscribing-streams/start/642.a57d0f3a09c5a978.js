"use strict";(self.webpackChunkrx_unsubscribing_streams=self.webpackChunkrx_unsubscribing_streams||[]).push([[642],{642:(x,l,c)=>{c.r(l),c.d(l,{HomeComponent:()=>w});var d=c(177),p=c(359);class f extends p.yU{constructor(t,e){super()}schedule(t,e=0){return this}}const u={setInterval(i,t,...e){const{delegate:n}=u;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){const{delegate:t}=u;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};var g=c(908);const h={now:()=>(h.delegate||Date).now(),delegate:void 0};class a{constructor(t,e=a.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}a.now=h.now;const m=new class v extends a{constructor(t,e=a.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}(class b extends f{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return u.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&u.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,g.o)(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),C=m;var _=c(985),P=c(470);var s=c(953);function I(i,t){if(1&i&&(s.j41(0,"div",8),s.EFF(1),s.k0s()),2&i){const e=t.$implicit;s.R7$(),s.SpI(" ",e," ")}}function S(i,t){if(1&i&&(s.j41(0,"div",8),s.EFF(1),s.k0s()),2&i){const e=t.$implicit;s.R7$(),s.SpI(" ",e," ")}}let w=(()=>{class i{constructor(){this.inputStreamData=["john wick","inception","interstellar"],this.outputStreamData=[]}startStream(){const e=function O(i=0,t=m){return i<0&&(i=0),function M(i=0,t,e=C){let n=-1;return null!=t&&((0,P.m)(t)?e=t:n=t),new _.c(r=>{let o=function y(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let k=0;return e.schedule(function(){r.closed||(r.next(k++),0<=n?this.schedule(void 0,n):r.complete())},o)})}(i,i,t)}(1500);this.subscription=e.subscribe(n=>{this.outputStreamData.push(n)})}stopStream(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275cmp=s.VBU({type:i,selectors:[["app-home"]],standalone:!0,features:[s.aNF],decls:11,vars:4,consts:[[1,"home"],[1,"buttons-container"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-dark",3,"click","disabled"],[1,"cards-container"],[1,"input-stream"],["class","input-stream__item",4,"ngFor","ngForOf"],[1,"output-stream"],[1,"input-stream__item"]],template:function(n,r){1&n&&(s.j41(0,"div",0)(1,"div",1)(2,"button",2),s.bIt("click",function(){return r.startStream()}),s.EFF(3,"Start Stream"),s.k0s(),s.j41(4,"button",3),s.bIt("click",function(){return r.stopStream()}),s.EFF(5,"Stop Stream"),s.k0s()(),s.j41(6,"div",4)(7,"div",5),s.DNE(8,I,2,1,"div",6),s.k0s(),s.j41(9,"div",7),s.DNE(10,S,2,1,"div",6),s.k0s()()()),2&n&&(s.R7$(2),s.Y8G("disabled",!!r.subscription),s.R7$(2),s.Y8G("disabled",!r.subscription),s.R7$(4),s.Y8G("ngForOf",r.inputStreamData),s.R7$(2),s.Y8G("ngForOf",r.outputStreamData))},dependencies:[d.MD,d.Sq],styles:[".home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{display:flex}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream[_ngcontent-%COMP%]{margin-right:10px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream[_ngcontent-%COMP%]{margin-left:10px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream[_ngcontent-%COMP%]{flex:1;padding:1.8rem;background-color:#333;min-height:200px;min-width:200px;border-radius:14px}.home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .input-stream__item[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .output-stream__item[_ngcontent-%COMP%]{color:#90ee90}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;justify-content:center}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.3}.home[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(1){margin-right:16px}"]})}return i})()}}]);